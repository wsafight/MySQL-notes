"use strict";(self.webpackChunkMYSQL_notes=self.webpackChunkMYSQL_notes||[]).push([[514],{6284:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-750151eb",path:"/performance/profiling.html",title:"profiling 分析慢 sql 语句",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"performance/profiling.md",git:{updatedTime:1627409616e3,contributors:[]}}},518:(n,s,e)=>{e.r(s),e.d(s,{default:()=>r});const a=(0,e(6252).uE)('<h1 id="profiling-分析慢-sql-语句" tabindex="-1"><a class="header-anchor" href="#profiling-分析慢-sql-语句" aria-hidden="true">#</a> profiling 分析慢 sql 语句</h1><p>该方案适合开发调试阶段分析，因为它是针对处理进程(process)而不是线程(thread)的，服务器上的其他应用，可能会影响结果。</p><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>-- 查看是否已经启用 profiling\nselect @@profiling;\n\n-- 启用 profiling\nset profiling = 1;\n\n-- 查询时候使用 sql_no_cache ，强制 SELECT 语句不进行 QCACHE 检测。\nselect sql_no_cache count(*) from system_user;\n\n-- 查询最近一条语句的执行信息\nshow profile;\n\n-- 查看在服务器上执行语句的列表\nshow profiles;\n\n-- 根据上面列表查询不同的 id\nshow profile for query 6;\n\n-- 获取其他信息\nshow profile all for query 6;\nshow profile cpu,block io,memory,swaps,context switches,source for query 6;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>',3),r={render:function(n,s){return a}}}}]);